var UTIL=function(){function e(e){if(g||t())g=!0,e();else{var n=function(){t()&&(g=!0,window.removeEventListener("load",e),document.removeEventListener("readystatechange",n),e())};document.addEventListener("readystatechange",n),window.addEventListener("load",e)}}function t(){return"complete"===document.readyState||"loading"!==document.readyState&&!document.documentElement.doScroll}function n(e,t){e.classList?e.classList.add(t):e.className+=" "+t}function a(e,t){e.classList?e.classList.remove(t):e.className=e.className.replace(new RegExp("(^|\\b)"+t.split(" ").join("|")+"(\\b|$)","gi")," ")}function s(e,t){return e.classList?e.classList.contains(t):new RegExp("(^| )"+t+"( |$)","gi").test(e.className)}function r(e){try{var t=new CustomEvent(e)}catch(n){var t=document.createEvent("CustomEvent");t.initCustomEvent(e,!0,!0,null)}document.dispatchEvent(t)}function o(){return null===h||void 0===h?h=document.querySelector('meta[name="csrf-token"]').getAttribute("content"):h}function i(e){var t=new XMLHttpRequest;return t.open("GET",e,!0),t.setRequestHeader("X-CSRF-Token",o()),t.setRequestHeader("Accept","text/javascript, application/javascript, application/ecmascript, application/x-ecmascript, */*; q=0.01"),t.setRequestHeader("X-Requested-With","XMLHttpRequest"),t}function d(e,t,n){var a=new XMLHttpRequest;return a.open("GET",e,!0),a.setRequestHeader("X-CSRF-Token",o()),a.onreadystatechange=function(){4===a.readyState&&(a.status>=200&&a.status<400?t(a.responseText):n(a.responseText))},a.send(),a}function l(e){u=e}function c(){return u||!1}var u,g=!1;return{ready:e,addClass:n,removeClass:a,hasClass:s,triggerEvent:r,getCsrfToken:o,scriptRequest:i,getRequest:d,setSignedIn:l,isSignedIn:c};var h}();!function(){function init(){document.querySelector(SELECTOR_NEXT_PAGE)&&(elPagination=document.querySelector(SELECTOR_PAGINATION),seed=elPagination.getAttribute("data-seed"),setBottomThreshold(),restoreState(),checkIfNearBottom(),bindEvents())}function setBottomThreshold(){document.querySelector(".footer")&&(bottomThreshold+=BOTTOM_THRESHOLD_FOOTER_ADDITION)}function bindEvents(){document.addEventListener("scroll",checkIfNearBottom),window.addEventListener("beforeunload",saveScrollPosition)}function checkIfNearBottom(){if(0===loadingPages.length&&window.pageYOffset+window.innerHeight>document.body.scrollHeight-bottomThreshold){var e=document.querySelector(SELECTOR_NEXT_PAGE);if(!e)return;var t=e.getAttribute("href");if(!t)return;bottomThreshold<=BOTTOM_THRESHOLD_SMALL+BOTTOM_THRESHOLD_FOOTER_ADDITION&&(bottomThreshold+=BOTTOM_THRESHOLD_ADDITION),UTIL.removeClass(document.querySelector(SELECTOR_LOADING_BAR),"hidden");var n=t+"&format=js";if(void 0!==history.state){if(null!==history.state&&history.state.pages)var a=history.state;else var a={pages:[]};a.pages.push(n),history.replaceState(a,"")}loadPage(n)}}function restoreState(){if(history.state&&history.state.pages&&history.state.pages.length>0){if(seed!=history.state.seed&&history.state.pages.length>3)return;for(var e=0;e<history.state.pages.length;e++)loadPage(history.state.pages[e]);document.addEventListener("new-page",function t(){0==loadingPages.length&&(document.removeEventListener("new-page",t),window.scrollTo(0,history.state.pos))})}}function saveScrollPosition(){if(history.state&&history.state.pages){var e=history.state;e.pos=window.pageYOffset,e.seed=seed,history.replaceState(e,"")}}function loadPage(url){url+="&seed="+seed;var index=loadingPages.length;loadingPages.push(url);var request=UTIL.scriptRequest(url);request.onload=function(){if(loadingPages.splice(loadingPages.indexOf(url),1),loadedPages[index]=request.responseText,0==loadingPages.length){for(var i=0;i<loadedPages.length;i++)elPagination.innerHTML="",eval(loadedPages[i]);loadedPages=[],UTIL.addClass(document.querySelector(SELECTOR_LOADING_BAR),"hidden"),UTIL.triggerEvent("new-page")}},request.send()}var SELECTOR_NEXT_PAGE=".pagination .next_page",SELECTOR_PAGINATION=".js-pagination";SELECTOR_LOADING_BAR=".js-loading",BOTTOM_THRESHOLD_SMALL=600,BOTTOM_THRESHOLD_FOOTER_ADDITION=255,BOTTOM_THRESHOLD_ADDITION=400,bottomThreshold=BOTTOM_THRESHOLD_SMALL,loadingPages=[],loadedPages=[];var elPagination,seed;UTIL.ready(init)}(),function(){function e(){var e=document.createElement("script");e.src="https://static.pexels.com/assets/app-async-d5222c100401906afc0cdeab53e3356b551989129d87b64bdeecff0e42777188.js",document.body.appendChild(e)}UTIL.ready(e)}(),function(){function e(){"true"==localStorage.getItem("newsletterSubscribed")&&UTIL.addClass(document.body,"newsletter-subscribed")}UTIL.ready(e)}();var rowGrid=function(e,t){function n(e){for(var t=[e];(e=e.nextSibling)&&9!==e.nodeType;)1===e.nodeType&&t.push(e);return t}function a(e,t,n){for(var a,s,r,o=0,i=[],n=Array.prototype.slice.call(n||e.querySelectorAll(t.itemSelector)),d=n.length,l=getComputedStyle(e),c=Math.floor(e.getBoundingClientRect().width)-parseFloat(l.getPropertyValue("padding-left"))-parseFloat(l.getPropertyValue("padding-right")),u=[],g=0;d>g;++g)a=n[g].getElementsByTagName("img")[0],a?((s=parseInt(a.getAttribute("width")))||a.setAttribute("width",s=a.offsetWidth),(r=parseInt(a.getAttribute("height")))||a.setAttribute("height",r=a.offsetHeight),u[g]={width:s,height:r}):(n.splice(g,1),--g,--d);d=n.length;for(var h=0;d>h;++h){if(n[h].classList?(n[h].classList.remove(t.firstItemClass),n[h].classList.remove(t.lastRowClass)):n[h].className=n[h].className.replace(new RegExp("(^|\\b)"+t.firstItemClass+"|"+t.lastRowClass+"(\\b|$)","gi")," "),o+=u[h].width,i.push(n[h]),h===d-1)for(var f=0;f<i.length;f++){0===f&&(i[f].className+=" "+t.lastRowClass);var m="width: "+u[h+parseInt(f)-i.length+1].width+"px;height: "+u[h+parseInt(f)-i.length+1].height+"px;";f<i.length-1&&(m+="margin-right:"+t.minMargin+"px"),i[f].style.cssText=m}if(o+t.maxMargin*(i.length-1)>c||window.innerWidth<t.minWidth){var p=o+t.maxMargin*(i.length-1)-c,v=i.length,T=(t.maxMargin-t.minMargin)*(v-1);if(p>T){var L=t.minMargin;p-=(t.maxMargin-t.minMargin)*(v-1)}else{var L=t.maxMargin-p/(v-1);p=0}for(var E,y=null,S=0,f=0;f<i.length;f++){E=i[f];var O=u[h+parseInt(f)-i.length+1].width,b=O-O/o*p;y=y||Math.round(u[h+parseInt(f)-i.length+1].height*(b/O)),S+1-b%1>=.5?(S-=b%1,b=Math.floor(b)):(S+=1-b%1,b=Math.ceil(b));var m="width: "+b+"px;height: "+y+"px;";f<i.length-1&&(m+="margin-right: "+L+"px"),E.style.cssText=m,0===f&&t.firstItemClass&&(E.className+=" "+t.firstItemClass)}i=[],o=0}}}if(null!==e&&void 0!==e)if("appended"===t){t=JSON.parse(e.getAttribute("data-row-grid"));var s=e.getElementsByClassName(t.lastRowClass)[0],r=n(s);a(e,t,r)}else t?(void 0===t.resize&&(t.resize=!0),void 0===t.minWidth&&(t.minWidth=0),void 0===t.lastRowClass&&(t.lastRowClass="last-row")):t=JSON.parse(e.getAttribute("data-row-grid")),a(e,t),e.setAttribute("data-row-grid",JSON.stringify(t)),t.resize&&window.addEventListener("resize",function(n){a(e,t)})};!function(){function e(){var e={minMargin:5,maxMargin:5,itemSelector:".photo-item",firstItemClass:"first-item",lastRowClass:"last-row",resize:!0,minWidth:426};rowGrid(document.getElementsByClassName("photos")[0],e)}UTIL.ready(e)}(),function(){function e(){r=s("avatar_url"),r&&(UTIL.setSignedIn(!0),UTIL.ready(t))}function t(){n(),a()}function n(){var e=document.querySelector(".js-avatar");e&&e.setAttribute("src",decodeURIComponent(r))}function a(){UTIL.addClass(document.body,"signed-in")}function s(e){var t="; "+document.cookie,n=t.split("; "+e+"=");return 2==n.length?n.pop().split(";").shift():void 0}var r;e()}(),function(){function init(){el=document.querySelector(".js-sponsored-photos"),el&&("false"!=el.getAttribute("data-load-on-init")?loadSponsoredPhotos():document.addEventListener("end-of-photos",loadSponsoredPhotos))}function loadSponsoredPhotos(){if(!el.getAttribute("data-loaded")){var url=el.getAttribute("data-url"),request=UTIL.scriptRequest(url);request.onload=function(){request.status>=200&&request.status<400&&(eval(request.responseText),el.setAttribute("data-loaded",!0))},request.send()}}var el;UTIL.ready(init)}();var TrackLinks=function(){function e(){var e=document.querySelectorAll("[data-track-action]");t(e),a()}function t(e){Array.prototype.forEach.call(e,function(e,t){e.addEventListener("click",n)})}function n(e){for(var t=e.target,n=0;4>n&&null==t.getAttribute("data-track-label");n++)t=t.parentNode;ga("send","event","track-click",t.getAttribute("data-track-action"),t.getAttribute("data-track-label"))}function a(){o=document.querySelector(".carbon-ad"),o&&o.addEventListener("DOMSubtreeModified",s)}function s(){o.removeEventListener("DOMSubtreeModified",s);var e=document.querySelector(".carbon-img"),t=document.querySelector(".carbon-text");e&&e&&(e.addEventListener("click",r),t.addEventListener("click",r))}function r(){ga("send","event","track-click","carbon","carbon")}return UTIL.ready(e),{bindEvents:t};var o}();